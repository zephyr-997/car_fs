C251 COMPILER V5.60.0,  zf_uart                                                            11/05/25  15:48:23  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE zf_uart
OBJECT MODULE PLACED IN .\Out_File\zf_uart.obj
COMPILER INVOKED BY: D:\Software\Keil5\c251v560\C251\BIN\C251.EXE ..\seekfree_libraries\zf_uart.c XSMALL WARNINGLEVEL(3)
                    - OPTIMIZE(0,SPEED) BROWSE INCDIR(..\CODE;..\USER\inc;..\USER\src;..\seekfree_components;..\seekfree_libraries;..\seekfre
                    -e_peripheral;..\libraries) DEBUG PRINT(.\Out_File\zf_uart.lst) TABS(2) OBJECT(.\Out_File\zf_uart.obj) 

stmt  level    source

    1          /********************************************************************************************************
             -*************
    2           * COPYRIGHT NOTICE
    3           * Copyright (c) 2020,ÈÄêÈ£ûÁßëÊäÄ
    4           * All rights reserved.
    5           * ÊäÄÊúØËÆ®ËÆ∫QQÁæ§Ôºö‰∏ÄÁæ§Ôºö179029047(Â∑≤Êª°)  ‰∫åÁæ§Ôºö244861897(Â∑≤Êª°)  ‰∏âÁæ§Ôºö824575535
    6           *
    7           * ‰ª•‰∏ãÊâÄÊúâÂÜÖÂÆπÁâàÊùÉÂùáÂ±ûÈÄêÈ£ûÁßëÊäÄÊâÄÊúâÔºåÊú™ÁªèÂÖÅËÆ∏‰∏çÂæóÁî®‰∫éÂïÜ‰∏öÁî®ÈÄîÔºå
    8           * Ê¨¢ËøéÂêÑ‰Ωç‰ΩøÁî®Âπ∂‰º†Êí≠Êú¨Á®ãÂ∫èÔºå‰øÆÊîπÂÜÖÂÆπÊó∂ÂøÖÈ°ª‰øùÁïôÈÄêÈ£ûÁßëÊäÄÁöÑÁâàÊùÉÂ£∞Êòé„ÄÇ
    9           *
   10           * @file          uart
   11           * @company       ÊàêÈÉΩÈÄêÈ£ûÁßëÊäÄÊúâÈôêÂÖ¨Âè∏
   12           * @author        ÈÄêÈ£ûÁßëÊäÄ(QQ790875685)
   13           * @version       Êü•ÁúãdocÂÜÖversionÊñá‰ª∂ ÁâàÊú¨ËØ¥Êòé
   14           * @Software    MDK FOR C251 V5.60
   15           * @Target core   STC32G12K128
   16           * @Taobao      https://seekfree.taobao.com/
   17           * @date          2020-4-14
   18           ********************************************************************************************************
             -************/
   19          
   20          #include "zf_uart.h"
   21          #include "board.h"
   22          #include "electromagnetic_tracking.h"
   23          
   24          uint8 busy[5];    //Êé•Êî∂ÂøôÊ†áÂøó‰Ωç
   25          
   26          //‰∏≤Âè£Êî∂ÂèëÁõ∏ÂÖ≥Êï∞ÊçÆ
   27          uint8_t g_TxData[UART_TX_LENGTH] = {0};
   28          uint8_t g_RxData[UART_RX_LENGTH] = {0};
   29          uint8_t g_RxPointer = 0, g_RxDat = 0;
   30          
   31          extern TrackWeights track_weights[];
   32          //-------------------------------------------------------------------------------------------------------
             -------------
   33          //  @brief      ‰∏≤Âè£ÂàùÂßãÂåñ
   34          //  @param      uart_n          ‰∏≤Âè£Ê®°ÂùóÂè∑(USART_1,USART_2,USART_3,USART_4)
   35          //  @param      uart_rx_pin     ‰∏≤Âè£Êé•Êî∂ÂºïËÑö
   36          //  @param      uart_tx_pin     ‰∏≤Âè£ÂèëÈÄÅÂºïËÑö
   37          //  @param      baud          ‰∏≤Âè£Ê≥¢ÁâπÁéá
   38          //  @param      tim_n         ‰ΩøÁî®tim_n‰Ωú‰∏∫‰∏≤Âè£Ê≥¢ÁâπÁéáÂèëÁîüÂô®(TIM1-TIM4)
   39          //  @return     NULL            
   40          //  Sample usage:               uart_init(UART_1, UART1_RX_P30, UART1_TX_P31, 115200, TIM_2);        //Âà
             -ùÂßãÂåñ‰∏≤Âè£1 Ê≥¢ÁâπÁéá115200 ÂèëÈÄÅÂºïËÑö‰ΩøÁî®P31 Êé•Êî∂ÂºïËÑö‰ΩøÁî®P30 ,‰ΩøÁî®ÂÆöÊó∂Âô®2‰Ωú‰∏∫Ê≥¢ÁâπÁéáÂèëÁîüÂô®
   41          //  @note                       ‰∏≤Âè£1‰ΩøÁî® ÂÆöÊó∂Âô®1ÊàñËÄÖÂÆöÊó∂Âô®2 ‰Ωú‰∏∫Ê≥¢ÁâπÁéáÂèëÁîüÂô®„ÄÇ
   42          //                ‰∏≤Âè£2‰ΩøÁî® ÂÆöÊó∂Âô®2       ‰Ωú‰∏∫Ê≥¢ÁâπÁéáÂèëÁîüÂô®„ÄÇ
   43          //                ‰∏≤Âè£3‰ΩøÁî® ÂÆöÊó∂Âô®3ÊàñËÄÖÂÆöÊó∂Âô®2 ‰Ωú‰∏∫Ê≥¢ÁâπÁéáÂèëÁîüÂô®„ÄÇ
   44          //                ‰∏≤Âè£4‰ΩøÁî® ÂÆöÊó∂Âô®4ÊàñËÄÖÂÆöÊó∂Âô®2 ‰Ωú‰∏∫Ê≥¢ÁâπÁéáÂèëÁîüÂô®„ÄÇ
   45          //                              STC32G‰ªÖÊúâ ÂÆöÊó∂Âô®0-ÂÆöÊó∂Âô®4ÔºåËøô5‰∏™ÂÆöÊó∂Âô®„ÄÇ
   46          //                ÁºñÁ†ÅÂô®ÈááÈõÜÊï∞ÊçÆ‰πüÈúÄË¶ÅÂÆöÊó∂Âô®‰Ωú‰∏∫Â§ñÈÉ®ËÆ°Êï∞„ÄÇ
   47          //                Â¶ÇÊûú‰∏çÂêåÁöÑ‰∏≤Âè£Ôºå‰ΩøÁî®Âêå‰∏Ä‰∏™ÂÆöÊó∂Âô®Ôºå‰∏≤Âè£ÁöÑÊ≥¢ÁâπÁéá‰ª•ÊúÄÂêé‰∏Ä‰∏™ÂàùÂßãÂåñ‰∏
             -∫ÂáÜ
   48          //-------------------------------------------------------------------------------------------------------
             -------------
   49          void uart_init(UARTN_enum uart_n, UARTPIN_enum uart_rx_pin, UARTPIN_enum uart_tx_pin, uint32 baud, TIMN_e
             -num tim_n)
   50          {
C251 COMPILER V5.60.0,  zf_uart                                                            11/05/25  15:48:23  PAGE 2   

   51   1          uint16 brt;
   52   1      
   53   1        brt = (uint16)(65536 - (sys_clk/baud/4));
   54   1      
   55   1      
   56   1        switch(uart_n)
   57   1        {
   58   2          case UART_1:
   59   2          {
   60   3            if(TIM_1 == tim_n)
   61   3            {
   62   4              SCON |= 0x50;
   63   4              TMOD |= 0x00;
   64   4              TL1 = brt;
   65   4              TH1 = brt >> 8;
   66   4              AUXR |= 0x40;
   67   4              TR1 = 1;
   68   4              busy[1] = 0;
   69   4            }
   70   3            else if(TIM_2 == tim_n)
   71   3            {
   72   4              SCON |= 0x50;
   73   4              T2L = brt;
   74   4              T2H = brt >> 8;
   75   4              AUXR |= 0x15;
   76   4            }
   77   3            P_SW1 &= ~(0x03<<6);
   78   3            if((UART1_RX_P30 == uart_rx_pin) && (UART1_TX_P31 == uart_tx_pin))
   79   3            {
   80   4              P_SW1 |= 0x00;
   81   4            }
   82   3            else if((UART1_RX_P36 == uart_rx_pin) && (UART1_TX_P37 == uart_tx_pin))
   83   3            {
   84   4              P_SW1 |= 0x40;
   85   4            }
   86   3            else if((UART1_RX_P16 == uart_rx_pin) && (UART1_TX_P17 == uart_tx_pin))
   87   3            {
   88   4              P_SW1 |= 0x80;
   89   4            }
   90   3            else if((UART1_RX_P43 == uart_rx_pin) && (UART1_TX_P44 == uart_tx_pin))
   91   3            {
   92   4              P_SW1 |= 0xc0;
   93   4            }
   94   3            busy[1] = 0;
   95   3            ES = 1;
   96   3            break;
   97   3          }
   98   2          
   99   2          case UART_2:
  100   2          {
  101   3            if(TIM_2 == tim_n)
  102   3            {
  103   4              S2CON |= 0x50;
  104   4              T2L = brt;
  105   4              T2H = brt >> 8;
  106   4              AUXR |= 0x14;
  107   4            }
  108   3            
  109   3            P_SW2 &= ~(0x01<<0);
  110   3            if((UART2_RX_P10 == uart_rx_pin) && (UART2_TX_P11 == uart_tx_pin))
  111   3            {
  112   4              P_SW2 |= 0x00;
  113   4            }
  114   3            else if((UART2_RX_P46 == uart_rx_pin) && (UART2_TX_P47 == uart_tx_pin))
  115   3            {
  116   4              P_SW2 |= 0x01;
C251 COMPILER V5.60.0,  zf_uart                                                            11/05/25  15:48:23  PAGE 3   

  117   4            }
  118   3            
  119   3            IE2 |= 0x01 << 0; //ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ–øÔøΩ2ÔøΩ–∂ÔøΩ
  120   3            busy[2] = 0;
  121   3            break;
  122   3          }
  123   2          
  124   2          case UART_3:
  125   2          {
  126   3            if(TIM_2 == tim_n)
  127   3            {
  128   4              S3CON |= 0x10;
  129   4              T2L = brt;
  130   4              T2H = brt >> 8;
  131   4              AUXR |= 0x14;
  132   4            }
  133   3            else if(TIM_3 == tim_n)
  134   3            {
  135   4              S3CON |= 0x50;
  136   4              T3L = brt;
  137   4              T3H = brt >> 8;
  138   4              T4T3M |= 0x0a;
  139   4            }
  140   3            
  141   3            P_SW2 &= ~(0x01<<1);
  142   3            if((UART3_RX_P00 == uart_rx_pin) && (UART3_TX_P01 == uart_tx_pin))
  143   3            {
  144   4              P_SW2 |= 0x00;
  145   4            }
  146   3            else if((UART3_RX_P50 == uart_rx_pin) && (UART3_TX_P51 == uart_tx_pin))
  147   3            {
  148   4              P_SW2 |= 0x02;
  149   4            }
  150   3            
  151   3            IE2 |= 0x01<<3; //ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ–øÔøΩ3ÔøΩ–∂ÔøΩ
  152   3            busy[3] = 0;
  153   3            break;
  154   3          }
  155   2          
  156   2          case UART_4:
  157   2          {
  158   3            if(TIM_2 == tim_n)
  159   3            {
  160   4              S4CON |= 0x10;
  161   4              T2L = brt;
  162   4              T2H = brt >> 8;
  163   4              AUXR |= 0x14;
  164   4            }
  165   3            else if(TIM_4 == tim_n)
  166   3            {
  167   4              S4CON |= 0x50;
  168   4              T4L = brt;
  169   4              T4H = brt >> 8;
  170   4              T4T3M |= 0xa0;
  171   4            }
  172   3      
  173   3            P_SW2 &= ~(0x01<<2);
  174   3            if((UART4_RX_P02 == uart_rx_pin) && (UART4_TX_P03 == uart_tx_pin))
  175   3            {
  176   4              P_SW2 |= 0x00;
  177   4            }
  178   3            else if((UART4_RX_P52 == uart_rx_pin) && (UART4_TX_P53 == uart_tx_pin))
  179   3            {
  180   4              P5M0 = 0x00;
  181   4              P5M1 = 0x01<<2;//P5.2 ÔøΩÔøΩ“™ÔøΩÔøΩÔøΩÔøΩŒ™ÔøΩÔøΩÔøΩÔøΩ
  182   4              P_SW2 |= 0x04;
C251 COMPILER V5.60.0,  zf_uart                                                            11/05/25  15:48:23  PAGE 4   

  183   4            }
  184   3            IE2 |= 0x01<<4; //ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ–øÔøΩ4ÔøΩ–∂ÔøΩ
  185   3            busy[4] = 0;
  186   3            break;
  187   3          }
  188   2          
  189   2        }
  190   1      
  191   1      }
  192          
  193          //-------------------------------------------------------------------------------------------------------
             -------------
  194          //  @brief      ‰∏≤Âè£ÂèëÈÄÅÂ≠óÁ¨¶‰∏≤
  195          //  @param      uart_n          ‰∏≤Âè£Ê®°ÂùóÂè∑(USART_1,USART_2,USART_3,USART_4)
  196          //  @param      *str            Ë¶ÅÂèëÈÄÅÁöÑÂ≠óÁ¨¶‰∏≤Âú∞ÂùÄ
  197          //  @return     void
  198          //  Sample usage:               uart_putstr(UART_1,"i lvoe you"); 
  199          //-------------------------------------------------------------------------------------------------------
             -------------
  200          void uart_putchar(UARTN_enum uart_n,uint8 dat)
  201          {
  202   1        switch(uart_n)
  203   1        {
  204   2          case UART_1:
  205   2            while (busy[1]);
  206   2            busy[1] = 1;
  207   2            SBUF = dat;
  208   2              break;
  209   2          case UART_2:
  210   2            while (busy[2]);
  211   2            busy[2] = 1;
  212   2            S2BUF = dat;
  213   2              break;
  214   2          case UART_3:
  215   2            while (busy[3]);
  216   2            busy[3] = 1;
  217   2            S3BUF = dat;
  218   2              break;
  219   2          case UART_4:
  220   2            while (busy[4]);
  221   2            busy[4] = 1;
  222   2            S4BUF = dat;
  223   2              break;
  224   2        }
  225   1      }
  226          
  227          
  228          //-------------------------------------------------------------------------------------------------------
             -------------
  229          //  @brief      ‰∏≤Âè£ÂèëÈÄÅÂ≠óÁ¨¶‰∏≤
  230          //  @param      uart_n          ‰∏≤Âè£Ê®°ÂùóÂè∑(USART_1,USART_2,USART_3,USART_4)
  231          //  @param      *str            Ë¶ÅÂèëÈÄÅÁöÑÂ≠óÁ¨¶‰∏≤Âú∞ÂùÄ
  232          //  @return     void
  233          //  Sample usage:               uart_putstr(UART_1,"i lvoe you"); 
  234          //-------------------------------------------------------------------------------------------------------
             -------------
  235          void uart_putbuff(UARTN_enum uart_n,uint8 *p,uint32 len)
  236          {
  237   1          while(len--)
  238   1              uart_putchar(uart_n,*p++);
  239   1      }
  240          
  241          
  242          //-------------------------------------------------------------------------------------------------------
             -------------
  243          //  @brief      ‰∏≤Âè£ÂèëÈÄÅÂ≠óÁ¨¶‰∏≤
C251 COMPILER V5.60.0,  zf_uart                                                            11/05/25  15:48:23  PAGE 5   

  244          //  @param      uart_n          ‰∏≤Âè£Ê®°ÂùóÂè∑(USART_1,USART_2,USART_3,USART_4)
  245          //  @param      *str            Ë¶ÅÂèëÈÄÅÁöÑÂ≠óÁ¨¶‰∏≤Âú∞ÂùÄ
  246          //  @return     void
  247          //  Sample usage:               uart_putstr(UART_1,"i lvoe you"); 
  248          //-------------------------------------------------------------------------------------------------------
             -------------
  249          void uart_putstr(UARTN_enum uart_n,uint8 *str)
  250          {
  251   1          while(*str)
  252   1          {
  253   2              uart_putchar(uart_n, *str++);
  254   2          }
  255   1      }
  256          
  257          
  258          void uart4_interrupt_callback(void)
  259          {
  260   1        float weight_value = 0;
  261   1        float filter_value = 0;
  262   1        int16 rate_value = 0;
  263   1      
  264   1        if(g_RxPointer > 0)
  265   1        {
  266   2          if (strncmp(g_RxData, "left_kp", 7) == 0)
  267   2          {
  268   3            sscanf(g_RxData, "left_kp:%f", &LeftPID.kp);
  269   3            
  270   3      //      sprintf(g_TxData, "left_kp:%f\n", LeftPID.kp);
  271   3      //      uart_putstr(UART_4, g_TxData);
  272   3          }
  273   2          else if (strncmp(g_RxData, "left_ki", 7) == 0)
  274   2          {
  275   3            sscanf(g_RxData, "left_ki:%f", &LeftPID.ki);
  276   3            
  277   3      //      sprintf(g_TxData, "left_ki:%f\n", LeftPID.ki);
  278   3      //      uart_putstr(UART_4, g_TxData);
  279   3          }
  280   2          else if (strncmp(g_RxData, "left_kd", 7) == 0)
  281   2          {
  282   3            sscanf(g_RxData, "left_kd:%f", &LeftPID.kd);
  283   3            
  284   3      //      sprintf(g_TxData, "left_kd:%f\n", LeftPID.kd);
  285   3      //      uart_putstr(UART_4, g_TxData);
  286   3          }
  287   2          else if (strncmp(g_RxData, "left_kf", 7) == 0)
  288   2          {
  289   3            sscanf(g_RxData, "left_kf:%f", &LeftPID.kf);
  290   3            
  291   3      //      sprintf(g_TxData, "left_kd:%f\n", LeftPID.kf);
  292   3      //      uart_putstr(UART_4, g_TxData);
  293   3          }
  294   2          else if (strncmp(g_RxData, "right_kp", 8) == 0)
  295   2          {
  296   3            sscanf(g_RxData, "right_kp:%f", &RightPID.kp);
  297   3            
  298   3      //      sprintf(g_TxData, "right_kp:%f\n", RightPID.kp);
  299   3      //      uart_putstr(UART_4, g_TxData);
  300   3          }
  301   2          else if (strncmp(g_RxData, "right_ki", 8) == 0)
  302   2          {
  303   3            sscanf(g_RxData, "right_ki:%f", &RightPID.ki);
  304   3            
  305   3      //      sprintf(g_TxData, "right_ki:%f\n", RightPID.ki);
  306   3      //      uart_putstr(UART_4, g_TxData);
  307   3          }
  308   2          else if (strncmp(g_RxData, "right_kd", 8) == 0)
C251 COMPILER V5.60.0,  zf_uart                                                            11/05/25  15:48:23  PAGE 6   

  309   2          {
  310   3            sscanf(g_RxData, "right_kd:%f", &RightPID.kd);
  311   3            
  312   3      //      sprintf(g_TxData, "right_kd:%f\n", RightPID.kd);
  313   3      //      uart_putstr(UART_4, g_TxData);
  314   3          }
  315   2          else if (strncmp(g_RxData, "right_kf", 8) == 0)
  316   2          {
  317   3            sscanf(g_RxData, "right_kf:%f", &RightPID.kf);
  318   3            
  319   3      //      sprintf(g_TxData, "right_kd:%f\n", RightPID.kf);
  320   3      //      uart_putstr(UART_4, g_TxData);
  321   3          }
  322   2          else if (strncmp(g_RxData, "turn_kp", 7) == 0)
  323   2          {
  324   3            sscanf(g_RxData, "turn_kp:%f", &TurnPID.kp);
  325   3            
  326   3      //      sprintf(g_TxData, "imu_kp:%f\n", TurnPID.kp);
  327   3      //      uart_putstr(UART_4, g_TxData);
  328   3          }
  329   2          else if (strncmp(g_RxData, "turn_ki", 7) == 0)
  330   2          {
  331   3            sscanf(g_RxData, "turn_ki:%f", &TurnPID.ki);
  332   3            
  333   3      //      sprintf(g_TxData, "imu_ki:%f\n", TurnPID.ki);
  334   3      //      uart_putstr(UART_4, g_TxData);
  335   3          }
  336   2          else if (strncmp(g_RxData, "turn_kd", 7) == 0)
  337   2          {
  338   3            sscanf(g_RxData, "turn_kd:%f", &TurnPID.kd);
  339   3            
  340   3      //      sprintf(g_TxData, "imu_kd:%f\n", TurnPID.kd);
  341   3      //      uart_putstr(UART_4, g_TxData);
  342   3          }
  343   2          else if (strncmp(g_RxData, "outer", 5) == 0)
  344   2          {
  345   3            sscanf(g_RxData, "outer:%f", &weight_value);
  346   3            track_weights[WEIGHT_ROUNDABOUT].weight_outer = weight_value;
  347   3            
  348   3            // sprintf(g_TxData, "outer:%f\n", track_weights[WEIGHT_CROSS].weight_outer);
  349   3            // uart_putstr(UART_4, g_TxData);
  350   3          }
  351   2          else if (strncmp(g_RxData, "middle", 6) == 0)
  352   2          {
  353   3            sscanf(g_RxData, "middle:%f", &weight_value);
  354   3            track_weights[WEIGHT_ROUNDABOUT].weight_middle = weight_value;
  355   3            
  356   3            // sprintf(g_TxData, "middle:%f\n", track_weights[WEIGHT_CROSS].weight_middle);
  357   3            // uart_putstr(UART_4, g_TxData);
  358   3          }
  359   2          else if (strncmp(g_RxData, "vertical", 8) == 0)
  360   2          {
  361   3            sscanf(g_RxData, "vertical:%f", &weight_value);
  362   3            track_weights[WEIGHT_ROUNDABOUT].weight_vertical = weight_value;
  363   3            
  364   3            // sprintf(g_TxData, "vertical:%f\n", track_weights[WEIGHT_CROSS].weight_vertical);
  365   3            // uart_putstr(UART_4, g_TxData);
  366   3          }
  367   2          // else if (strncmp(g_RxData, "center", 6) == 0)
  368   2          // {
  369   2          //  sscanf(g_RxData, "center:%f", &weight_value);
  370   2          //  track_weights[WEIGHT_CROSS].weight_center = weight_value;
  371   2            
  372   2          //  // sprintf(g_TxData, "center:%f\n", track_weights[WEIGHT_CROSS].weight_center);
  373   2          //  // uart_putstr(UART_4, g_TxData);
  374   2          // }
C251 COMPILER V5.60.0,  zf_uart                                                            11/05/25  15:48:23  PAGE 7   

  375   2      
  376   2          // else if (strncmp(g_RxData, "filter", 6) == 0)
  377   2          // {
  378   2      
  379   2          //  sscanf(g_RxData, "filter:%f", &filter_value);
  380   2          //  track_weights[WEIGHT_CROSS].filter_param = filter_value;
  381   2            
  382   2          //  // sprintf(g_TxData, "filter:%f\n", track_weights[WEIGHT_CROSS].filter_param);
  383   2          //  // uart_putstr(UART_4, g_TxData);
  384   2          // }
  385   2          // else if (strncmp(g_RxData, "rate", 4) == 0)
  386   2          // {
  387   2          //  sscanf(g_RxData, "rate:%hd", &rate_value);
  388   2          //  track_weights[WEIGHT_CROSS].max_change_rate = rate_value;
  389   2            
  390   2          //  // sprintf(g_TxData, "rate:%d\n", track_weights[WEIGHT_CROSS].max_change_rate);
  391   2          //  // uart_putstr(UART_4, g_TxData);
  392   2          // }
  393   2          // else if (strncmp(g_RxData, "query", 5) == 0)
  394   2          // {
  395   2          //  // Êü•ËØ¢ÊâÄÊúâÂçÅÂ≠óÂúÜÁéØÂèÇÊï∞
  396   2          //  sprintf(g_TxData, "CROSS: o:%0.2f m:%0.2f c:%0.2f v:%0.2f f:%0.2f r:%d\n", 
  397   2          //    track_weights[WEIGHT_CROSS].weight_outer,
  398   2          //    track_weights[WEIGHT_CROSS].weight_middle,
  399   2          //    track_weights[WEIGHT_CROSS].weight_center,
  400   2          //    track_weights[WEIGHT_CROSS].weight_vertical,
  401   2          //    track_weights[WEIGHT_CROSS].filter_param,
  402   2          //    track_weights[WEIGHT_CROSS].max_change_rate);
  403   2          //  uart_putstr(UART_4, g_TxData);
  404   2          // }
  405   2        
  406   2        }
  407   1        
  408   1        g_RxPointer = 0;
  409   1        memset(g_RxData, 0, UART_RX_LENGTH);
  410   1        memset(g_TxData, 0, UART_TX_LENGTH);
  411   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =      1736     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =       450     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =       688     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
